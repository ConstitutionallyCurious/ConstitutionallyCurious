<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Constitution</title>
    <link href="https://fonts.googleapis.com/css2?family=Jacquard+24&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { display: flex; flex-direction: column; font-family: 'Times New Roman', serif; background-color: white; }
        .wrapper { display: flex; flex-direction: column; flex-grow: 1; min-height: 100vh; padding: 20px; }
        .toggle-container { display: flex; justify-content: flex-end; align-items: center; margin-bottom: 20px; }
        .toggle-label { font-size: 18px; font-weight: bold; margin-right: 10px; }
        .toggle-switch { position: relative; width: 50px; height: 25px; background-color: #ccc; border-radius: 25px; cursor: pointer; transition: background-color 0.3s ease-in-out; }
        .toggle-switch:before { content: ''; position: absolute; top: 3px; left: 3px; width: 19px; height: 19px; background-color: white; border-radius: 50%; transition: transform 0.3s ease-in-out; }
        .toggle-switch.active { background-color: #4caf50; }
        .toggle-switch.active:before { transform: translateX(25px); }
        .content h1 { font-size: 32px; font-weight: bold; margin-bottom: 20px; }
        .content h2 { font-size: 28px; font-weight: bold; margin-top: 20px; }
        .content h3 { font-size: 24px; font-weight: bold; margin-top: 15px; }
        .content p { font-size: 18px; margin-bottom: 10px; }
        .interpretation { font-size: 16px; color: gray; display: block; margin-top: 5px; }
        .jacquard { font-family: 'Jacquard 24', cursive; }
        @font-face { font-family: 'WeThePeople'; src: url('fonts/WeThePeople.ttf') format('truetype'); font-weight: bold; font-style: normal; }
        .wethepeople { font-family: 'WeThePeople', cursive; font-size: 3.0em; }
        .tidbit-tooltip-wrapper {
            display: inline;
            position: relative;
            cursor: pointer;
        }
        .tidbit-tooltip-box {
            position: fixed;
            z-index: 2000;
            min-width: 250px;
            max-width: 320px;
            min-height: 180px;
            background: #fff;
            border: 1px solid #888;
            border-radius: 8px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.12);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            padding: 16px;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .tidbit-tooltip-box.visible { opacity: 1; pointer-events: auto; animation: fadeIn 0.3s; }
        .tidbit-tooltip-img { width: 100%; height: 96px; object-fit: cover; border-radius: 6px; margin-bottom: 6px; flex-shrink: 0; flex-grow: 0; }
        .tidbit-tooltip-text { width: 100%; margin: 0; text-align: center; flex-grow: 0; }
        .tidbit-tooltip-btn { background: #a0a0a0; color: white; border: none; border-radius: 4px; padding: 6px 18px; font-size: 15px; cursor: pointer; margin-top: 6px; transition: background 0.2s; align-self: center; z-index: 1002; }
        .tidbit-tooltip-btn:hover { background: #767676; }
        .tidbit-tooltip-close {
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 20px;
            color: #888;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 1005;
        }
        .tidbit-tooltip-close:active { color: #222; }
        .btn-top    { order: -1; align-self: center; margin-bottom: 8px; margin-top: 0; }
        .btn-bottom { order: 99; align-self: center; margin-top: 8px; margin-bottom: 0; }
        .btn-left   { order: 1; align-self: flex-start; margin-right: auto; }
        .btn-right  { order: 1; align-self: flex-end; margin-left: auto; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: translateY(0);} }
        .tidbit-tooltip-bridge {
            display: inline;
            position: absolute;
            pointer-events: auto;
            background: transparent;
            height: 20px;
            left: 0;
            right: 0;
            top: 100%;
            z-index: 1999;
            width: 100%;
            content: "";
        }
        .tidbit-tooltip-wrapper:hover { z-index: 1500; }
    </style>
</head>
<body>
    <div class="wrapper">
        <!-- Toggle Switch -->
        <div class="toggle-container">
            <span class="toggle-label">Interpretation</span>
            <div class="toggle-switch active"></div>
        </div>
        <!-- Content -->
        <div class="content">
            <p>
                <span class="wethepeople">We the People</span> of the United States, in Order to form a more perfect Union...
            </p>
            <span class="interpretation">[Interpretation for the Preamble]</span>
            <h2>Article I</h2>
            <h3>Section 1 - Congress</h3>
            <p>All legislative Powers herein granted shall be vested in a Congress of the United States, which shall consist of a Senate and House of </p>
            <span class="interpretation">[Interpretation for Section 1]</span>
            <h3>Section 2 - The House of Representatives</h3>
            <p>The House of Representatives shall be composed of Members chosen every second Year by the People of the several States, and the Electors in each State shall have the Qualifications requisite for Electors of the most numerous Branch of the State Legislature.</p>
            <p>No Person shall be a Representative who shall not have attained to the Age of twenty five Years, and been seven Years a Citizen of the United States, and who shall not, when elected, be an Inhabitant of that State in which he shall be chosen.</p>
            <p>Representatives and direct Taxes shall be apportioned among the several States which may be included within this Union, according to their respective Numbers, which shall be determined by adding to the whole Number of free Persons, including those bound to Service for a Term of Years, and excluding Indians not taxed, three fifths of all other Persons.  The actual Enumeration shall be made within three Years after the first Meeting of the Congress of the United States, and within every subsequent Term of ten Years, in such Manner as they shall by Law direct.The Number of Representatives shall not exceed one for every thirty Thousand, but each State shall have at Least one Representative; and until such enumeration shall be made, the State of New Hampshire shall be entitled to chuse three, Massachusetts eight, Rhode-Island and Providence Plantations one, Connecticut five, New-York six, New Jersey four, Pennsylvania eight, Delaware one, Maryland six, Virginia ten, North Carolina five, South Carolina five, and Georgia three.</p>
            <p>When vacancies happen in the Representation from any State, the Executive Authority thereof shall issue Writs of Election to fill such Vacancies.</p>
            <p>The House of Representatives shall chuse their Speaker and other Officers; and shall have the sole Power of Impeachment.</p>
            <p></p>
            <span class="interpretation">[Interpretation for Section 2]</span>
            
            <h3>Section 3 - The Senate</h3>
            <p>The Senate of the United States shall be composed of two Senators from each State, chosen by the Legislature thereof, for six Years; and each Senator shall have one Vote.</p>
            <p>Immediately after they shall be assembled in Consequence of the first Election, they shall be divided as equally as may be into three Classes. The Seats of the Senators of the first Class shall be vacated at the Expiration of the second Year, of the second Class at the Expiration of the fourth Year, and of the third Class at the Expiration of the sixth Year, so that one third may be chosen every second Year; and if Vacancies happen by Resignation, or otherwise, during the Recess of the Legislature of any State, the Executive thereof may make temporary Appointments until the next Meeting of the Legislature, which shall then fill such Vacancies.</p>
            <p>No Person shall be a Senator who shall not have attained to the Age of thirty Years, and been nine Years a Citizen of the United States, and who shall not, when elected, be an Inhabitant of that State for which he shall be chosen.</p>
            <p>The Vice President of the United States shall be President of the Senate, but shall have no Vote, unless they be equally divided.</p>
            <p>The Senate shall chuse their other Officers, and also a President pro tempore, in the Absence of the Vice President, or when he shall exercise the Office of President of the United States.</p>
            <p>The Senate shall have the sole Power to try all Impeachments. When sitting for that Purpose, they shall be on Oath or Affirmation. When the President of the United States is tried, the Chief Justice shall preside: And no Person shall be convicted without the Concurrence of two thirds of the Members present.</p>
            <p>Judgment in Cases of Impeachment shall not extend further than to removal from Office, and disqualification to hold and enjoy any Office of honor, Trust or Profit under the United States: but the Party convicted shall nevertheless be liable and subject to Indictment, Trial, Judgment and Punishment, according to Law.</p>
            <span class="interpretation">[Interpretation for Section 3]</span>
            <h3>Section 4 - Elections</h3>
            <p>The Times, Places and Manner of holding Elections for Senators and Representatives, shall be prescribed in each State by the Legislature thereof; but the Congress may at any time by Law make or alter such Regulations, except as to the Places of chusing Senators.</p>
            <p>The Congress shall assemble at least once in every Year, and such Meeting shall be on the first Monday in December, unless they shall by Law appoint a different Day.</p>
            <h3>Section 5 - Powers and Duties of Congress</h3>
            <p>Each House shall be the Judge of the Elections, Returns and Qualifications of its own Members,and a Majority of each shall constitute a Quorum to do Business; but a smaller Number may adjourn from day to day, and may be authorized to compel the Attendance of absent Members, in such Manner, and under such Penalties as each House may provide.</p>
            <p>Each House may determine the Rules of its Proceedings, punish its Members for disorderly Behaviour, and, with the Concurrence of two thirds, expel a Member.</p>
            <p>Each House shall keep a Journal of its Proceedings, and from time to time publish the same, excepting such Parts as may in their Judgment require Secrecy; and the Yeas and Nays of the Members of either House on any question shall, at the Desire of one fifth of those Present, be entered on the Journal.</p>
            <p>Neither House, during the Session of Congress, shall, without the Consent of the other, adjourn for more than three days, nor to any other Place than that in which the two Houses shall be sitting.</p>
            <h3>Section 6 - Rights and Disabilities of Members</h3>
            <p>The Senators and Representatives shall receive a Compensation for their Services, to be ascertained by Law, and paid out of the Treasury of the United States.They shall in all Cases, except Treason, Felony and Breach of the Peace, be privileged from Arrest during their Attendance at the Session of their respective Houses, and in going to and returning from the same; and for any Speech or Debate in either House, they shall not be questioned in any other Place.</p>
            <p>No Senator or Representative shall, during the Time for which he was elected, be appointed to any civil Office under the Authority of the United States, which shall have been created, or the Emoluments whereof shall have been encreased during such time; and no Person holding any Office under the United States, shall be a Member of either House during his Continuance in Office.</p>
            <h3>Section 7 - Legislative Process</h3>
            <p>All Bills for raising Revenue shall originate in the House of Representatives; but the Senate may propose or concur with Amendments as on other Bills.</p>
            <p>Every Bill which shall have passed the House of Representatives and the Senate, shall, before it become a Law, be presented to the President of the United States; If he approve he shall sign it, but if not he shall return it, with his Objections to that House in which it shall have originated, who shall enter the Objections at large on their Journal, and proceed to reconsider it. If after such Reconsideration two thirds of that House shall agree to pass the Bill, it shall be sent, together with the Objections, to the other House, by which it shall likewise be reconsidered, and if approved by two thirds of that House, it shall become a Law. But in all such Cases the Votes of both Houses shall be determined by yeas and Nays, and the Names of the Persons voting for and against the Bill shall be entered on the Journal of each House respectively. If any Bill shall not be returned by the President within ten Days (Sundays excepted) after it shall have been presented to him, the Same shall be a Law, in like Manner as if he had signed it, unless the Congress by their Adjournment prevent its Return, in which Case it shall not be a Law.</p>
            <p>Every Order, Resolution, or Vote to which the Concurrence of the Senate and House of Representatives may be necessary (except on a question of Adjournment) shall be presented to the President of the United States; and before the Same shall take Effect, shall be approved by him, or being disapproved by him, shall be repassed by two thirds of the Senate and House of Representatives, according to the Rules and Limitations prescribed in the Case of a Bill.</p>
            <h3>Section 8 - Powers of Congress</h3>
            <p>The Congress shall have Power To lay and collect Taxes, Duties, Imposts and Excises, to pay the Debts and provide for the common Defence and general Welfare of the United States; but all Duties, Imposts and Excises shall be uniform throughout the United States;</p>
            <p>To borrow Money on the credit of the United States;</p>
            <p>To regulate Commerce with foreign Nations, and among the several States, and with the Indian Tribes;</p>
            <p>To establish a uniform Rule of Naturalization, and uniform Laws on the subject of Bankruptcies throughout the United States;</p>
            <p>To coin Money, regulate the Value thereof, and of foreign Coin, and fix the Standard of Weights and Measures;</p>
            <p>To provide for the Punishment of counterfeiting the Securities and current Coin of the United States;</p>
            <p>To establish Post Offices and post Roads;</p>
            <p>To promote the Progress of Science and useful Arts, by securing for limited Times to Authors and Inventors the exclusive Right to their respective Writings and Discoveries;</p>
            <p>To constitute Tribunals inferior to the supreme Court;</p>
            <p>To define and punish Piracies and Felonies committed on the high Seas, and Offences against the Law of Nations;</p>
            <p>To declare War, grant Letters of Marque and Reprisal, and make Rules concerning Captures on Land and Water;</p>
            <p>To raise and support Armies, but no Appropriation of Money to that Use shall be for a longer Term than two Years;</p>
            <p>To provide and maintain a Navy;</p>
            <p>To make Rules for the Government and Regulation of the land and naval Forces;</p>
            <p>To provide for calling forth the Militia to execute the Laws of the Union, suppress Insurrections and repel Invasions;</p>
            <p>To provide for organizing, arming, and disciplining, the Militia, and for governing such Part of them as may be employed in the Service of the United States, reserving to the States respectively, the Appointment of the Officers, and the Authority of training the Militia according to the discipline prescribed by Congress;</p>
            <p>To exercise exclusive Legislation in all Cases whatsoever, over such District (not exceeding ten Miles square) as may, by Cession of particular States, and the Acceptance of Congress, become the Seat of the Government of the United States, and to exercise like Authority over all Places purchased by the Consent of the Legislature of the State in which the Same shall be, for the Erection of Forts, Magazines, Arsenals, dock-Yards and other needful Buildings;-And</p>
            <p>To make all Laws which shall be necessary and proper for carrying into Execution the foregoing Powers, and all other Powers vested by this Constitution in the Government of the United States, or in any Department or Officer thereof.</p>
            <h2>Amendments</h2>
            <h3>Amendment XIII</h3>
            <p>No Person shall be a Senator who shall not have attained to the Age of thirty Years, and been nine Years a Citizen of the United States, and who shall not, when elected, be an Inhabitant of that State for which he shall be chosen.</p>
                Neither slavery nor
                <span class="tidbit-tooltip-wrapper"
                    data-img="https://designshack.net/wp-content/uploads/placehold.jpg"
                    data-text="This is a tid-bit about the Constitution."
                    data-link="https://example.com"
                    data-btn-pos="bottom">
                    <b><u>involuntary servitude</u></b><span class="tidbit-tooltip-bridge"></span>
                </span>, except as a punishment for crime whereof the party shall have been duly convicted, shall exist within the United States...
            </p>
            <span class="interpretation">[Interpretation for Amendment XIII]</span>
        </div>
    </div>
    <footer class="footer">
        <p>© 2025 Constitutionally Curious</p>
    </footer>
    <div id="tidbit-tooltip" class="tidbit-tooltip-box" style="display:none;">
        <button class="tidbit-tooltip-close" title="Close" tabindex="0" aria-label="Close tooltip">&times;</button>
        <img class="tidbit-tooltip-img" src="" alt="Tid-bit image">
        <p class="tidbit-tooltip-text"></p>
        <button class="tidbit-tooltip-btn btn-bottom" tabindex="0">Learn More</button>
    </div>
    <audio id="tooltip-audio" src="selection.mp3" preload="auto"></audio>
    <script>
        // Toggle interpretation visibility
        document.addEventListener('DOMContentLoaded', function() {
            const toggleSwitch = document.querySelector('.toggle-switch');
            const interpretations = document.querySelectorAll('.interpretation');
            toggleSwitch.addEventListener('click', function() {
                toggleSwitch.classList.toggle('active');
                const showInterpretations = toggleSwitch.classList.contains('active');
                interpretations.forEach(interpretation => {
                    interpretation.style.display = showInterpretations ? 'block' : 'none';
                });
            });
        });

        // Tooltip logic (desktop and touch)
        const tooltip = document.getElementById('tidbit-tooltip');
        const tooltipImg = tooltip.querySelector('.tidbit-tooltip-img');
        const tooltipText = tooltip.querySelector('.tidbit-tooltip-text');
        const tooltipBtn = tooltip.querySelector('.tidbit-tooltip-btn');
        const tooltipClose = tooltip.querySelector('.tidbit-tooltip-close');
        const audio = document.getElementById('tooltip-audio');
        let currentTrigger = null;
        let hideTimeout = null;
        let mouseOverTrigger = false;
        let mouseOverTooltip = false;

        // Position the tooltip below the trigger
        function positionTooltip(trigger) {
            const rect = trigger.getBoundingClientRect();
            tooltip.style.display = 'flex';
            const tooltipRect = tooltip.getBoundingClientRect();
            const top = rect.bottom + window.scrollY;
            const left = rect.left + window.scrollX + (rect.width - tooltipRect.width) / 2;
            tooltip.style.top = `${top}px`;
            tooltip.style.left = `${left}px`;
        }

        // Position the invisible bridge between trigger and tooltip
        function positionBridge(trigger, tooltip) {
            const bridge = trigger.querySelector('.tidbit-tooltip-bridge');
            if (!bridge) return;
            const triggerRect = trigger.getBoundingClientRect();
            const tooltipRect = tooltip.getBoundingClientRect();
            let distance = tooltipRect.top - triggerRect.bottom;
            if (distance < 0) distance = 0;
            bridge.style.position = "absolute";
            bridge.style.top = (trigger.offsetHeight) + "px";
            bridge.style.height = distance + "px";
            bridge.style.left = 0;
            bridge.style.width = "100%";
            bridge.style.background = "transparent";
            bridge.style.pointerEvents = "auto";
            bridge.style.zIndex = 1999;
        }

        function showTooltip(trigger) {
            clearTimeout(hideTimeout);
            currentTrigger = trigger;
            tooltipImg.src = trigger.getAttribute('data-img') || '';
            tooltipText.textContent = trigger.getAttribute('data-text') || '';
            tooltipBtn.onclick = () => window.open(trigger.getAttribute('data-link') || '#', '_blank');
            const btnPos = trigger.getAttribute('data-btn-pos') || 'bottom';
            tooltipBtn.className = 'tidbit-tooltip-btn btn-' + btnPos;
            tooltip.style.display = 'flex';
            setTimeout(() => tooltip.classList.add('visible'), 10);
            try { audio.currentTime = 0; audio.play(); } catch(e){}
            positionTooltip(trigger);
            positionBridge(trigger, tooltip);
            // Always (re-)attach bridge handlers
            const bridge = trigger.querySelector('.tidbit-tooltip-bridge');
            if (bridge) {
                bridge.onmouseenter = function() {
                    mouseOverTrigger = true;
                    clearTimeout(hideTimeout);
                };
                bridge.onmouseleave = function() {
                    mouseOverTrigger = false;
                    setTimeout(() => {
                        if (!mouseOverTrigger && !mouseOverTooltip) hideTooltip();
                    }, 10);
                };
            }
        }

        function hideTooltip() {
            tooltip.classList.remove('visible');
            hideTimeout = setTimeout(() => {
                tooltip.style.display = 'none';
                currentTrigger = null;
            }, 100);
        }

        // Tooltip event listeners for desktop and touch
        function setupTooltipListeners() {
            document.querySelectorAll('.tidbit-tooltip-wrapper').forEach(el => {
                // Desktop hover
                el.addEventListener('mouseenter', function() {
                    mouseOverTrigger = true;
                    showTooltip(el);
                });
                el.addEventListener('mouseleave', function() {
                    mouseOverTrigger = false;
                    setTimeout(() => {
                        if (!mouseOverTrigger && !mouseOverTooltip) hideTooltip();
                    }, 10);
                });

                // Touch/tap support
                el.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    showTooltip(el);
                }, { passive: false });

                el.addEventListener('click', function(e) {
                    // On touch devices, click can be a fallback if touchstart doesn't fire.
                    if (window.ontouchstart !== undefined) {
                        e.preventDefault();
                    }
                    showTooltip(el);
                });

                // Attach bridge listeners at startup for robustness
                const bridge = el.querySelector('.tidbit-tooltip-bridge');
                if (bridge) {
                    bridge.onmouseenter = function() {
                        mouseOverTrigger = true;
                        clearTimeout(hideTimeout);
                    };
                    bridge.onmouseleave = function() {
                        mouseOverTrigger = false;
                        setTimeout(() => {
                            if (!mouseOverTrigger && !mouseOverTooltip) hideTooltip();
                        }, 10);
                    };
                }
            });
        }

        // Hide tooltip when tapping outside on touch devices
        document.body.addEventListener('touchstart', function(e) {
            if (
                !e.target.closest('.tidbit-tooltip-wrapper') &&
                !e.target.closest('.tidbit-tooltip-box')
            ) {
                hideTooltip();
            }
        }, { passive: false });

        // Tooltip hover handlers
        tooltip.addEventListener('mouseenter', function() {
            mouseOverTooltip = true;
            clearTimeout(hideTimeout);
        });
        tooltip.addEventListener('mouseleave', function() {
            mouseOverTooltip = false;
            setTimeout(() => {
                if (!mouseOverTrigger && !mouseOverTooltip) hideTooltip();
            }, 10);
        });

        // Close button for tooltip (for touch users)
        tooltipClose.addEventListener('click', function() {
            hideTooltip();
        });

        // When the tooltip is visible, make sure pointer events are on for all children (fixes unclickable button issue)
        const observer = new MutationObserver(() => {
            if (tooltip.classList.contains('visible')) {
                tooltip.style.pointerEvents = 'auto';
                tooltipBtn.style.pointerEvents = 'auto';
            } else {
                tooltip.style.pointerEvents = 'none';
            }
        });
        observer.observe(tooltip, { attributes: true, attributeFilter: ['class'] });

        // Reposition on scroll/resize (for floating tooltips)
        window.addEventListener('scroll', () => {
            if (currentTrigger && tooltip.classList.contains('visible')) {
                positionTooltip(currentTrigger);
                positionBridge(currentTrigger, tooltip);
            }
        });
        window.addEventListener('resize', () => {
            if (currentTrigger && tooltip.classList.contains('visible')) {
                positionTooltip(currentTrigger);
                positionBridge(currentTrigger, tooltip);
            }
        });

        // Re-run listeners after DOM loaded (important for some embed systems)
        document.addEventListener('DOMContentLoaded', setupTooltipListeners);
        // Also run immediately in case script is at the end of body
        setupTooltipListeners();
    </script>
</body>
</html>
